(()=>{"use strict";document.documentElement.classList.add("lock");let e=0,t=0,o=0,s=!1,n=!1,a=!1,c=!1;const l=document.querySelector(".check"),r=document.querySelector(".again"),d=document.querySelector(".header__question"),i=document.querySelector(".page__highscore"),u=document.querySelector(".page__score"),m=document.querySelector(".page__number-input"),v=document.querySelector("body"),L=document.querySelectorAll(".header__level"),g=document.querySelector(".header__menu"),y=document.querySelector(".header__between"),C=document.querySelector(".footer__button"),h=document.querySelector(".page__guess-message"),x=e=>{n?localStorage.setItem("easyLevel",e):a?localStorage.setItem("mediumLevel",e):c&&localStorage.setItem("hardLevel",e)},S=async()=>{const e=localStorage.getItem("easyLevel"),o=localStorage.getItem("mediumLevel"),s=localStorage.getItem("hardLevel");return e&&n?(t=e,t):o&&a?(t=o,t):s&&c?(t=s,t):0},_=e=>{h.style.color="Game Over!"===e?"#ff0000":"Начни угадывать!"===e?"#fbff00":"#fff",h.textContent=e},f=e=>Math.trunc(Math.random()*`${e}`)+1,q=async l=>{l.preventDefault();const{target:r}=l,d=r.closest(".header__level");r&&d&&(d.classList.contains("easy")||r.classList.contains("easy")?(r.classList.add("choose"),n=!0,t=await S(),e=15,u.textContent=e,i.textContent=t||0,y.textContent="(Между 1 и 20)",o=f(20),g.classList.add("start-game")):d.classList.contains("medium")||r.classList.contains("medium")?(r.classList.add("choose"),a=!0,t=await S(),e=20,u.textContent=e,i.textContent=t||0,y.textContent="(Между 1 и 50)",o=f(50),g.classList.add("start-game")):(d.classList.contains("hard")||r.classList.contains("hard"))&&(r.classList.add("choose"),c=!0,t=await S(),i.textContent=t||0,e=30,u.textContent=e,y.textContent="(Между 1 и 100)",s=!0,o=f(100),g.classList.add("start-game")))},b=()=>{n=!1,a=!1,c=!1,_("Начни угадывать!"),g.classList.contains("start-game")&&g.classList.remove("start-game"),s&&(s=!1),L.forEach((e=>{e.classList.contains("choose")&&e.classList.remove("choose"),e.addEventListener("click",q)}))},p=()=>{d.textContent="???",_("Начни угадывать!"),m.value="",v.style.backgroundColor="rgb(0, 0, 0)"};l.addEventListener("click",(()=>{const l=Number(m.value);if(0!==parseFloat(m.value))if(l){if(l===o)_("Правильно!"),d.textContent=o,v.style.backgroundColor="rgb(9, 250, 21)",e>t&&(t=e,i.textContent=t,(n||a||c)&&x(t));else if(l!==o){if(e>1){const t=l>o?l-o:o-l;return o>t&&t>10&&t<=30&&s?(_("Очень мало"),e--,void(u.textContent=e)):o<t&&t>10&&t<=30&&s?(_("Очень много"),e--,void(u.textContent=e)):o>l&&1===t?(_("Чуть больше"),e--,void(u.textContent=e)):o<l&&1===t?(_("Чуть меньше"),e--,void(u.textContent=e)):o>t&&t>30&&s?(console.log(s),_("Безумно мало"),e--,void(u.textContent=e)):o<t&&t>30&&s?(_("Безумно много"),e--,void(u.textContent=e)):(_(l>o?"Слишком много!":"Слишком мало!"),e--,void(u.textContent=e))}_("Game Over!"),u.textContent=0}}else _("Введите число!");else _("Введите выше 0!")})),r.addEventListener("click",(()=>{L.forEach((e=>{if(e.classList.contains("choose")){const t=e.querySelector("span").textContent,s=Number(t.split("и ")[1].replace(")",""));o=f(s)}})),p()})),C.addEventListener("click",(()=>{p(),b()})),window.addEventListener("load",(()=>{const e=document.querySelector(".preloader");setTimeout((()=>{document.documentElement.classList.remove("lock"),e.remove(),b()}),2e3)}))})();