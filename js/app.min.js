(()=>{"use strict";document.documentElement.classList.add("lock");let e=0,t=0,o=0,n=!1,s=!1,c=!1,a=!1;const r=document.querySelector(".check"),l=document.querySelector(".again"),d=document.querySelector(".header__question"),i=document.querySelector(".page__highscore"),u=document.querySelector(".page__score"),m=document.querySelector(".page__number-input"),v=document.querySelector("body"),g=document.querySelectorAll(".header__level"),L=document.querySelector(".header__menu"),C=document.querySelector(".header__between"),x=document.querySelector(".footer__button"),y=document.querySelector(".page__guess-message"),h=e=>{s?localStorage.setItem("easyLevel",e):c?localStorage.setItem("mediumLevel",e):a&&localStorage.setItem("hardLevel",e)},S=()=>{const e=localStorage.getItem("easyLevel"),o=localStorage.getItem("mediumLevel"),n=localStorage.getItem("hardLevel");return e&&s?(t=e,t):o&&c?(t=o,t):n&&a?(t=n,t):0},f=async e=>{y.style.color="Game Over!"===e?"#ff0000":"Начни угадывать!"===e?"#fbff00":"#fff",y.textContent=e},_=e=>Math.trunc(Math.random()*`${e}`)+1,q=r=>{r.preventDefault();const{target:l}=r;l&&l.classList.contains("easy")?(l.classList.add("choose"),s=!0,t=S(),e=15,u.textContent=e,i.textContent=t||0,C.textContent="(Между 1 и 20)",o=_(20),L.classList.add("start-game")):l&&l.classList.contains("medium")?(l.classList.add("choose"),c=!0,t=S(),e=20,u.textContent=e,i.textContent=t||0,C.textContent="(Между 1 и 50)",o=_(50),L.classList.add("start-game")):l&&l.classList.contains("hard")&&(l.classList.add("choose"),a=!0,t=S(),i.textContent=t||0,e=30,u.textContent=e,C.textContent="(Между 1 и 100)",n=!0,o=_(100),L.classList.add("start-game"))},b=()=>{s=!1,c=!1,a=!1,f("Начни угадывать!"),L.classList.contains("start-game")&&L.classList.remove("start-game"),n&&(n=!1),g.forEach((e=>{e.classList.contains("choose")&&e.classList.remove("choose"),e.addEventListener("click",q)}))},p=()=>{d.textContent="???",f("Начни угадывать!"),m.value="",v.style.backgroundColor="rgb(0, 0, 0)"};r.addEventListener("click",(()=>{const r=Number(m.value);if(0!==parseFloat(m.value))if(r){if(r===o)f("Правильно!"),d.textContent=o,v.style.backgroundColor="rgb(9, 250, 21)",e>t&&(t=e,i.textContent=t,(s||c||a)&&h(t));else if(r!==o){if(e>1){const t=r>o?r-o:o-r;return o>t&&t>10&&t<=30&&n?(f("Очень мало"),e--,void(u.textContent=e)):o<t&&t>10&&t<=30&&n?(f("Очень много"),e--,void(u.textContent=e)):o>r&&1===t?(f("Чуть больше"),e--,void(u.textContent=e)):o<r&&1===t?(f("Чуть меньше"),e--,void(u.textContent=e)):o>t&&t>30&&n?(console.log(n),f("Безумно мало"),e--,void(u.textContent=e)):o<t&&t>30&&n?(f("Безумно много"),e--,void(u.textContent=e)):(f(r>o?"Слишком много!":"Слишком мало!"),e--,void(u.textContent=e))}f("Game Over!"),u.textContent=0}}else f("Введите число!");else f("Введите выше 0!")})),l.addEventListener("click",(()=>{g.forEach((e=>{if(e.classList.contains("choose")){const t=e.querySelector("span").textContent,n=Number(t.split("и ")[1].replace(")",""));o=_(n)}})),p()})),x.addEventListener("click",(()=>{p(),b()})),window.addEventListener("load",(()=>{const e=document.querySelector(".preloader");setTimeout((()=>{document.documentElement.classList.remove("lock"),e.remove(),b()}),2e3)}))})();